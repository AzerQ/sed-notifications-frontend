# –û–¢–ß–ï–¢ –û –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ï –¢–ï–°–¢–û–í

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

### ‚úÖ –ó–∞–¥–∞—á–∞: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö data-testid —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã –ø–∞–¥–∞–ª–∏ –∏–∑-–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –≤–º–µ—Å—Ç–æ —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö data-testid –∞—Ç—Ä–∏–±—É—Ç–æ–≤. –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã, —Ç–∞–∫ –∫–∞–∫ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ.

### üîß –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### 1. –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ data-testid –∞—Ç—Ä–∏–±—É—Ç—ã
- **NotificationSidebar.tsx**: –î–æ–±–∞–≤–ª–µ–Ω `data-testid="notification-sidebar-title"` –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ "–ù–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"

#### 2. –û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (App.test.tsx)

**–ó–∞–º–µ–Ω–µ–Ω—ã –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã:**

| –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|------|-------|
| `screen.getByText('–û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ')` | `screen.getByTestId('notification-sidebar-mark-all-read-button')` |
| `screen.getAllByText(/–ù–æ–≤—ã–π –≤—Ö–æ–¥—è—â–∏–π –¥–æ–∫—É–º–µ–Ω—Ç\|–°–ª—É–∂–µ–±–Ω–∞—è –∑–∞–ø–∏—Å–∫–∞\|–î–æ–≥–æ–≤–æ—Ä –Ω–∞ –ø–æ–¥–ø–∏—Å—å/)` | `screen.getAllByTestId('compact-notification')` |
| `screen.getByText('–¶–µ–Ω—Ç—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π')` | `screen.getByTestId('modal')` |
| `screen.getByText('–ù–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è')` | `screen.getByTestId('notification-sidebar-title')` |
| `screen.getByText('–í—Å—è –∏—Å—Ç–æ—Ä–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π')` | `screen.getByTestId('notification-sidebar-full-history-button')` |
| `screen.getByPlaceholderText('–ü–æ–∏—Å–∫ –ø–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º...')` | `screen.getByTestId('notifications-bar-search-input')` |
| `screen.getByLabelText('–ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ')` | `screen.getByTestId('modal-close-button')` |
| DOM —Å–µ–ª–µ–∫—Ç–æ—Ä—ã (`.fixed.inset-0.bg-black`) | `screen.getByTestId('modal-backdrop')` |

#### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π –¥–∞–Ω–Ω—ã—Ö

**–î–æ–±–∞–≤–ª–µ–Ω—ã –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏:**
```typescript
// –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
await waitFor(() => {
  expect(screen.queryByTestId('notification-sidebar-loading')).not.toBeInTheDocument();
});
```

#### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã deprecated API calls

**NotificationsBar.test.tsx:**
- –û–±–Ω–æ–≤–ª–µ–Ω –ø—Ä–æ–ø `onNotificationsChange` ‚Üí `onNotificationUpdate`

#### 5. –£–ª—É—á—à–µ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ª–æ–≥–∏–∫–µ —Ç–µ—Å—Ç–æ–≤:**
- –ó–∞–º–µ–Ω–µ–Ω–æ –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –Ω–∞ ESC –∫–ª–∞–≤–∏—à—É (–±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ)
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –£–ø—Ä–æ—â–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–ª–æ–∂–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
- ‚ùå 7 –ø–∞–¥–∞—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ –∏–∑ 266
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–∏—Å–∫–æ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ —Ç–µ–∫—Å—Ç—É
- –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã

**–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
- ‚úÖ **266/266 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç**
- –°—Ç–∞–±–∏–ª—å–Ω—ã–µ data-testid —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** data-testid –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ç–µ–∫—Å—Ç–∞
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ë–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
4. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å:** –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
5. **–ò–∑–æ–ª—è—Ü–∏—è:** –¢–µ—Å—Ç—ã –Ω–µ –ª–æ–º–∞—é—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ UI —Ç–µ–∫—Å—Ç–æ–≤

### üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –±—É–¥—É—â–µ–≥–æ

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ data-testid** –¥–ª—è —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –≤ —Ç–µ—Å—Ç–∞—Ö
2. **–ò–∑–±–µ–≥–∞–π—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤** –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
3. **–î–æ–±–∞–≤–ª—è–π—Ç–µ data-testid** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ waitFor** –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
5. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é**

### ‚ú® –ò—Ç–æ–≥

–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ç–µ—Å—Ç–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ. –í—Å–µ 266 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ. –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞–ª–∞ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–π –±–ª–∞–≥–æ–¥–∞—Ä—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é data-testid –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –≤–º–µ—Å—Ç–æ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤.